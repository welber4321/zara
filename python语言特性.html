<html>
<head>
  <title>Evernote Export</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="YXBJ Windows/605138 (zh-CN, DDL); Windows/10.0.0 (Win64); EDAMVersion=V2;"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="1308"/>

<div>
<span><div><br/></div><div style="min-height: 4618px; min-width: 100%; position: relative;"><div style="outline: 0px; box-sizing: border-box;"><div style="background: url(&quot;https://csdnimg.cn/release/blogv2/dist/pc/themesSkin/skin3-template/images/bg.png?v20220120&quot;) center top / 1920px no-repeat rgb(245, 246, 247); -webkit-font-smoothing: antialiased; box-sizing: inherit; outline: 0px;"><div style="box-sizing: inherit; outline: 0px; -webkit-box-pack: center; justify-content: center;"><div style="outline: 0px; box-sizing: border-box;"><div style="box-sizing: inherit; outline: 0px; background: rgb(255, 255, 255);"><div style="font-size: 14px; box-sizing: inherit; outline: 0px; margin: 0px; padding: 8px 0px 0px; border-bottom: 1px solid rgb(245, 246, 247); z-index: 9; background-color: rgb(255, 255, 255);"><div style="box-sizing: inherit; outline: 0px; margin: 0px; padding: 0px;"><div style="box-sizing: inherit; outline: 0px; margin: 0px 0px 8px; padding: 0px;"><h1 style="box-sizing: inherit; outline: 0px; padding: 0px; overflow-wrap: break-word; word-break: break-all; margin: 0px; font-size: 28px;"><span style="box-sizing:inherit;outline:0px;"><span style="font-size: 28px; color: rgb(34, 34, 38); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, SimHei, Arial, SimSun; font-weight: 600; line-height: 1.57143;">python的GIL</span></span></h1></div></div></div><div style="box-sizing: inherit; outline: 0px; position: relative; padding-top: 16px;"><div style="box-sizing: inherit; outline: 0px; margin: 0px; padding: 0px; overflow-wrap: break-word; height: auto; max-height: none;"><div style="box-sizing: inherit; outline: 0px; margin: 0px; padding: 0px; overflow-wrap: break-word; position: relative; min-height: 70px;"><div style="font-size: 16px;"><span style="font-size: 16px; color: rgb(51, 51, 51); font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, SimHei, SimSun; font-weight: normal; line-height: 1.57143;">在进行GIL讲解之前，我们可以先回顾一下并行和并发的区别：</span></div><div style="font-size: 16px;"><span style="font-size: 16px; color: rgb(51, 51, 51); font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, SimHei, SimSun; font-weight: normal; line-height: 1.57143;">并行：多个CPU同时执行多个任务，就好像有两个程序，这两个程序是真的在两个不同的CPU内同时被执行。</span></div><p style="font-size: 16px; outline: 0px; padding: 0px; overflow-wrap: break-word; margin: 0px 0px 16px; font-weight: 400; box-sizing: border-box; color: rgb(77, 77, 77); line-height: 26px;"></p><div style="font-size: 16px; outline: 0px; padding: 0px; overflow-wrap: break-word; margin: 0px 0px 16px; box-sizing: border-box;"><a href="https://so.csdn.net/so/search?q=%E5%B9%B6%E5%8F%91&amp;spm=1001.2101.3001.7020" style="margin: 0px 3px 0px 0px; padding: 0px 14px 0px 3px; outline: 0px; cursor: pointer; overflow-wrap: break-word; box-sizing: border-box; border-radius: 3px; background: url(&quot;https://csdnimg.cn/release/blogv2/dist/pc/css/../img/iconHighlight.svg&quot;) right top / 12px 14px no-repeat transparent; box-shadow: none; font-size: 16px; color: rgb(252, 85, 49); font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, SimHei, SimSun; font-weight: normal; line-height: 26px; text-decoration: none;" target="_blank">并发</a><span style="font-size: 16px; color: rgb(77, 77, 77); font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, SimHei, SimSun; font-weight: 400; line-height: 26px;">：CPU交替处理多个任务，还是有两个程序，但是只有一个CPU，会交替处理这两个程序，而不是同时执行，只不过因为CPU执行的速度过快，而会使得人们感到是在“同时”执行，执行的先后取决于各个程序对于时间片资源的争夺。大家可以参考下图的实物图就行理解：</span></div><div style="font-size: 16px; outline: 0px; padding: 0px; overflow-wrap: break-word; margin: 0px 0px 16px; box-sizing: border-box;"><span style="font-size: 16px; color: rgb(77, 77, 77); font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, SimHei, SimSun; font-weight: 400; line-height: 26px;"><img src="python语言特性_files/2018030816184729" type="image/png" data-filename="2018030816184729" height="647" style="border:0px;outline:0px;overflow-wrap:break-word;box-sizing:border-box;max-width:100%;height:auto;cursor:zoom-in;" width="852"/></span></div><div style="font-size: 16px; outline: 0px; padding: 0px; overflow-wrap: break-word; margin: 0px 0px 16px; box-sizing: border-box;"><br style="outline:0px;overflow-wrap:break-word;box-sizing:border-box;"/></div><div style="font-size: 16px; outline: 0px; padding: 0px; overflow-wrap: break-word; margin: 0px 0px 16px; box-sizing: border-box;"><span style="font-size: 16px; color: rgb(77, 77, 77); font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, SimHei, SimSun; font-weight: 400; line-height: 26px;">并行和并发同属于多任务，目的是要提高CPU的使用效率。这里需要注意的是，一个CPU永远不可能实现并行，即一个CPU不能同时运行多个程序，但是可以在随机分配的时间片内交替执行（并发），就好像一个人不能同时看两本书，但是却能够先看第一本书半分钟，再看第二本书半分钟，这样来回切换。</span></div><div style="font-size: 16px; outline: 0px; padding: 0px; overflow-wrap: break-word; margin: 0px 0px 16px; box-sizing: border-box;"><span style="font-size: 16px; color: rgb(77, 77, 77); font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, SimHei, SimSun; font-weight: 400; line-height: 26px;">接下来我们来看看进程和线程之间的区别：</span></div><div style="font-size: 16px; outline: 0px; padding: 0px; overflow-wrap: break-word; margin: 0px 0px 16px; box-sizing: border-box;"><span style="font-size: 16px; color: rgb(77, 77, 77); font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, SimHei, SimSun; font-weight: 400; line-height: 26px;">两个多线程同时执行死循环，查看单个CPU的使用率：</span></div><div style="font-size: 16px; outline: 0px; padding: 0px; overflow-wrap: break-word; margin: 0px 0px 16px; box-sizing: border-box;"><span style="font-size: 16px; color: rgb(77, 77, 77); font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, SimHei, SimSun; font-weight: 400; line-height: 26px;"><img src="python语言特性_files/20180308171139566" type="image/png" data-filename="20180308171139566" height="462" style="border:0px;outline:0px;overflow-wrap:break-word;box-sizing:border-box;max-width:100%;height:auto;cursor:zoom-in;" width="852"/></span></div><div style="font-size: 16px; outline: 0px; padding: 0px; overflow-wrap: break-word; margin: 0px 0px 16px; box-sizing: border-box;"><br style="outline:0px;overflow-wrap:break-word;box-sizing:border-box;"/></div><div style="font-size: 16px; outline: 0px; padding: 0px; overflow-wrap: break-word; margin: 0px 0px 16px; box-sizing: border-box;"><span style="font-size: 16px; color: rgb(77, 77, 77); font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, SimHei, SimSun; font-weight: 400; line-height: 26px;">两个多线程同时执行死循环，查看两个CPU的使用率：</span></div><div style="font-size: 16px; outline: 0px; padding: 0px; overflow-wrap: break-word; margin: 0px 0px 16px; box-sizing: border-box;"><span style="font-size: 16px; color: rgb(77, 77, 77); font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, SimHei, SimSun; font-weight: 400; line-height: 26px;"><img src="python语言特性_files/20180308164958190" type="image/png" data-filename="20180308164958190" height="277" style="border:0px;outline:0px;overflow-wrap:break-word;box-sizing:border-box;max-width:100%;height:auto;cursor:zoom-in;" width="852"/></span></div><div style="font-size: 16px; outline: 0px; padding: 0px; overflow-wrap: break-word; margin: 0px 0px 16px; box-sizing: border-box;"><br style="outline:0px;overflow-wrap:break-word;box-sizing:border-box;"/></div><div style="font-size: 16px; outline: 0px; padding: 0px; overflow-wrap: break-word; margin: 0px 0px 16px; box-sizing: border-box;"><span style="font-size: 16px; color: rgb(77, 77, 77); font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, SimHei, SimSun; font-weight: 400; line-height: 26px;">两个多进程同时执行死循环，查看两个CPU使用率：</span></div><div style="font-size: 16px; outline: 0px; padding: 0px; overflow-wrap: break-word; margin: 0px 0px 16px; box-sizing: border-box;"><span style="font-size: 16px; color: rgb(77, 77, 77); font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, SimHei, SimSun; font-weight: 400; line-height: 26px;"><img src="python语言特性_files/20180308165151393" type="image/png" data-filename="20180308165151393" height="275" style="border:0px;outline:0px;overflow-wrap:break-word;box-sizing:border-box;max-width:100%;height:auto;cursor:zoom-in;" width="852"/></span></div><div style="font-size: 16px; outline: 0px; padding: 0px; overflow-wrap: break-word; margin: 0px 0px 16px; box-sizing: border-box;"><br style="outline:0px;overflow-wrap:break-word;box-sizing:border-box;"/></div><div style="font-size: 16px; outline: 0px; padding: 0px; overflow-wrap: break-word; margin: 0px 0px 16px; box-sizing: border-box;"><span style="font-size: 16px; color: rgb(77, 77, 77); font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, SimHei, SimSun; font-weight: 400; line-height: 26px;">也就是说，多线程并不会充分调用两个CPU，而是会像在一个CPU上充分运转，而多进程则是会完全调用两个CPU，同时执行；</span></div><div style="font-size: 16px; outline: 0px; padding: 0px; overflow-wrap: break-word; margin: 0px 0px 16px; box-sizing: border-box;"><span style="font-size: 16px; color: rgb(77, 77, 77); font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, SimHei, SimSun; font-weight: 400; line-height: 26px;">Guido van Rossum（吉多·范罗苏姆）创建python时就只考虑到单核cpu，解决多线程之间数据完整性和状态同步的最简单方法自然就是加锁， 于是有了GIL这把超级大锁。因为cpython解析只允许拥有GIL全局解析器锁才能运行程序，这样就保证了保证同一个时刻只允许一个线程可以使用cpu。由于大量的程序开发者接收了这套机制,现在代码量越来越多,已经不容易通过c代码去解决这个问题。</span></div><div style="font-size: 16px; outline: 0px; padding: 0px; overflow-wrap: break-word; margin: 0px 0px 16px; box-sizing: border-box;"><span style="font-size: 16px; color: rgb(77, 77, 77); font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, SimHei, SimSun; font-weight: 400; line-height: 26px;">什么是GIL？</span></div><div style="font-size: 16px; outline: 0px; padding: 0px; overflow-wrap: break-word; margin: 0px 0px 16px; box-sizing: border-box;"><span style="font-size: 16px; color: rgb(77, 77, 77); font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, SimHei, SimSun; font-weight: 400; line-height: 26px;">全局解释器锁（</span><a href="https://www.baidu.com/link?url=wcyORPNvihJlWYZsd97z3F3g6xZfs09N64Jc56POq3P7r3h5vIxVFcjGiZjosC6g3jhmBh13DS36rKld5eBfWq&amp;wd=&amp;eqid=aa7605a200005349000000025aa0f4fb" style="margin: 0px; padding: 0px; outline: 0px; cursor: pointer; overflow-wrap: break-word; box-sizing: border-box; font-size: 14px; color: rgb(78, 161, 219); font-family: arial; font-weight: normal; line-height: 26px; text-decoration: none;">global interpreter lock</a><span style="margin: 0px; padding: 0px; outline: 0px; overflow-wrap: break-word; box-sizing: border-box; font-size: 14px; color: rgb(51, 51, 51); font-family: arial; font-weight: normal; line-height: 26px;">），一个进程只有一个GIL,每个线程在执行时候都需要先获取GIL，保证同一时刻只有一个线程可以执行代码，即</span><span style="margin: 0px; padding: 0px; outline: 0px; overflow-wrap: break-word; box-sizing: border-box; font-size: 14px;"><span style="font-size: 14px; color: rgb(167, 69, 0); font-family: arial; font-weight: normal; line-height: 26px;">同一时刻只有一个线程使用CPU</span></span><span style="margin: 0px; padding: 0px; outline: 0px; overflow-wrap: break-word; box-sizing: border-box; font-size: 14px; color: rgb(51, 51, 51); font-family: arial; font-weight: normal; line-height: 26px;">，也就是说多线程并不是真正意义上的同时执行。</span></div><div style="font-size: 16px; outline: 0px; padding: 0px; overflow-wrap: break-word; margin: 0px 0px 16px; box-sizing: border-box;"><span style="margin: 0px; padding: 0px; outline: 0px; overflow-wrap: break-word; box-sizing: border-box; font-size: 14px; color: rgb(51, 51, 51); font-family: arial; font-weight: normal; line-height: 26px;"><img src="python语言特性_files/20180308165927571" type="image/png" data-filename="20180308165927571" height="592" style="border:0px;outline:0px;overflow-wrap:break-word;box-sizing:border-box;max-width:100%;height:auto;cursor:zoom-in;" width="852"/></span></div><div style="margin: 1.4em 0px;"><span style="font-size: 16px; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-weight: bold; line-height: 1.6;">那么是不是python的多线程就完全没用了呢？</span></div><div style="margin: 1.4em 0px;"><span style="font-size: 16px; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; line-height: 1.6;">在这里我们进行分类讨论：</span></div><div style="margin: 1.4em 0px;"><span style="font-size: 16px; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; line-height: 1.6;">1、CPU密集型代码(各种循环处理、计数等等)，在这种情况下，ticks计数很快就会达到阈值，然后触发GIL的释放与再竞争（多个线程来回切换当然是需要消耗资源的），所以</span><span style="font-size: 16px; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-weight: bold; line-height: 1.6;">python下的多线程对CPU密集型代码并不友好。</span></div><div style="margin: 1.4em 0px;"><span style="font-size: 16px; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; line-height: 1.6;">2、IO密集型代码(文件处理、网络爬虫等)，多线程能够有效提升效率(单线程下有IO操作会进行IO等待，造成不必要的时间浪费，而开启多线程能在线程A等待时，自动切换到线程B，可以不浪费CPU的资源，从而能提升程序执行效率)。</span><span style="font-size: 16px; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-weight: bold; line-height: 1.6;">所以python的多线程对IO密集型代码比较友好。</span></div><div><br/></div><div style="margin: 1.4em 0px;"><span style="font-size: 16px; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; line-height: 1.6;">而在python3.x中，GIL不使用ticks计数，改为使用计时器（执行时间达到阈值后，当前线程释放GIL），这样对CPU密集型程序更加友好，</span><span style="font-size: 16px; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-weight: bold; line-height: 1.6;">但依然没有解决GIL导致的同一时间只能执行一个线程的问题，所以效率依然不尽如人意。</span></div><div><br/></div><div style="font-size: 16px; outline: 0px; padding: 0px; overflow-wrap: break-word; margin: 0px 0px 16px; box-sizing: border-box;"><span style="font-size: 16px; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-weight: bold; line-height: 1.6;">多核多线程比单核多线程更差，原因是单核下多线程，每次释放GIL，唤醒的那个线程都能获取到GIL锁，所以能够无缝执行，但多核下，CPU0释放GIL后，其他CPU上的线程都会进行竞争，但GIL可能会马上又被CPU0拿到，导致其他几个CPU上被唤醒后的线程会醒着等待到切换时间后又进入待调度状态，这样会造成</span><span style="font-size: 16px;"><span style="font-size: 16px; font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-weight: bold; line-height: 1.6; color: rgb(173, 0, 0);">线程颠簸</span></span><span style="font-size: 16px; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-weight: bold; line-height: 1.6;">(thrashing)，导致效率更低</span></div><div style="font-size: 16px; outline: 0px; padding: 0px; overflow-wrap: break-word; margin: 0px 0px 16px; box-sizing: border-box;"><span style="font-size: 16px; color: rgb(18, 18, 18); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Source Han Sans SC&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-weight: bold; line-height: 1.6;">那么该如何解决GIL的问题呢？</span></div><div style="font-size: 16px; outline: 0px; padding: 0px; overflow-wrap: break-word; margin: 0px 0px 16px; box-sizing: border-box;"><span style="margin: 0px; padding: 0px; outline: 0px; overflow-wrap: break-word; box-sizing: border-box; font-size: 14px;"><span style="font-size: 14px; color: rgb(173, 0, 0); font-family: arial; font-weight: normal; line-height: 26px;">1.更换cpython为jpython或ironpython(不建议)</span></span></div><div style="font-size: 16px; outline: 0px; padding: 0px; overflow-wrap: break-word; margin: 0px 0px 16px; box-sizing: border-box;"><span style="margin: 0px; padding: 0px; outline: 0px; overflow-wrap: break-word; box-sizing: border-box; font-size: 14px;"><span style="font-size: 14px; color: rgb(173, 0, 0); font-family: arial; font-weight: normal; line-height: 26px;">2.使用多进程完成多线程的任务</span></span></div><div style="font-size: 16px; outline: 0px; padding: 0px; overflow-wrap: break-word; margin: 0px 0px 16px; box-sizing: border-box;"><span style="margin: 0px; padding: 0px; outline: 0px; overflow-wrap: break-word; box-sizing: border-box; font-size: 14px;"><span style="font-size: 14px; color: rgb(173, 0, 0); font-family: arial; font-weight: normal; line-height: 26px;">3.在使用多线程可以使用c语言去实现</span></span></div><div style="font-size: 16px; outline: 0px; padding: 0px; overflow-wrap: break-word; margin: 0px 0px 16px; box-sizing: border-box;"><span style="margin: 0px; padding: 0px; outline: 0px; overflow-wrap: break-word; box-sizing: border-box; background-color: rgb(255, 255, 255); font-size: 14px; color: rgb(51, 51, 51); font-family: arial; font-weight: normal; line-height: 26px;">以下是几个面试会遇到的问题，希望对大家有所帮助：</span></div><div style="outline: 0px; padding: 0px; overflow-wrap: break-word; margin: 0px 0px 16px; box-sizing: border-box;"><div><span style="margin: 0px; padding: 0px; outline: 0px; overflow-wrap: break-word; box-sizing: border-box;"><span style="font-size: 14pt; color: rgb(51, 51, 51); font-family: arial; font-weight: normal; line-height: 26px;">问题1: 什么时候会释放GIL锁?</span></span></div><div style="font-size: 16px;"><span style="margin: 0px; padding: 0px; outline: 0px; overflow-wrap: break-word; box-sizing: border-box; background-color: rgb(255, 255, 255); font-size: 14px; color: rgb(51, 51, 51); font-family: arial; font-weight: normal; line-height: 26px;">答 :  </span></div><div style="font-size: 16px;"><span style="margin: 0px; padding: 0px; outline: 0px; overflow-wrap: break-word; box-sizing: border-box; background-color: rgb(255, 255, 255); font-size: 14px; color: rgb(51, 51, 51); font-family: arial; font-weight: normal; line-height: 26px;">1 遇到像 i/o操作这种 会有时间空闲情况 造成cpu闲置的情况会释放Gil</span></div><div style="font-size: 16px;"><span style="margin: 0px; padding: 0px; outline: 0px; overflow-wrap: break-word; box-sizing: border-box; font-size: 14px; color: rgb(51, 51, 51); font-family: arial; font-weight: normal; line-height: 26px;">2 会有一个专门ticks进行计数 一旦ticks数值达到100 这个时候释放Gil锁 线程之间开始竞争Gil锁(说明:</span></div><div style="font-size: 16px;"><span style="font-size: 14px; background-color: rgb(255, 255, 255); margin: 0px; padding: 0px; outline: 0px; overflow-wrap: break-word; box-sizing: border-box; color: rgb(51, 51, 51); font-family: arial; font-weight: normal; line-height: 26px;"> </span> <span style="font-size: 14px; margin: 0px; padding: 0px; outline: 0px; overflow-wrap: break-word; box-sizing: border-box; color: rgb(51, 51, 51); font-family: arial; font-weight: normal; line-height: 26px;">  ticks这个数值可以进行设置来延长或者缩减获得Gil锁的线程使用cpu的时间)</span></div><div style="font-size: 16px;"><span style="font-size: 14px; margin: 0px; padding: 0px; outline: 0px; overflow-wrap: break-word; box-sizing: border-box;"><br/></span></div><div><span style="margin: 0px; padding: 0px; outline: 0px; overflow-wrap: break-word; box-sizing: border-box;"><span style="font-size: 14pt; color: rgb(51, 51, 51); font-family: arial; font-weight: normal; line-height: 26px;">问题2: 互斥锁和GIL锁的关系.</span></span></div><div style="font-size: 16px;"><span style="margin: 0px; padding: 0px; outline: 0px; overflow-wrap: break-word; box-sizing: border-box; font-size: 14px; color: rgb(51, 51, 51); font-family: arial; font-weight: normal; line-height: 26px;">GIL锁  : 保证同一时刻只有一个线程能使用到cpu</span></div><div style="font-size: 16px;"><span style="margin: 0px; padding: 0px; outline: 0px; overflow-wrap: break-word; box-sizing: border-box; font-size: 14px; color: rgb(51, 51, 51); font-family: arial; font-weight: normal; line-height: 26px;">互斥锁 : 多线程时,保证修改共享数据时有序的修改,不会产生数据修改混乱</span></div><div style="font-size: 16px;"><span style="margin: 0px; padding: 0px; outline: 0px; overflow-wrap: break-word; box-sizing: border-box; background-color: rgb(255, 255, 255); font-size: 14px; color: rgb(51, 51, 51); font-family: arial; font-weight: normal; line-height: 26px;">首先假设只有一个进程,这个进程中有两个线程 Thread1,Thread2, 要修改共享的数据date, 并且有互斥锁</span></div><div style="font-size: 16px;"><span style="margin: 0px; padding: 0px; outline: 0px; overflow-wrap: break-word; box-sizing: border-box; font-size: 14px; color: rgb(51, 51, 51); font-family: arial; font-weight: normal; line-height: 26px;">执行以下步骤</span></div><div style="font-size: 16px;"><span style="margin: 0px; padding: 0px; outline: 0px; overflow-wrap: break-word; box-sizing: border-box; background-color: rgb(255, 255, 255); font-size: 14px; color: rgb(51, 51, 51); font-family: arial; font-weight: normal; line-height: 26px;">(1)多线程运行，假设Thread1获得GIL可以使用cpu，这时Thread1获得 互斥锁lock,Thread1可以改date数据(但并</span></div><div style="font-size: 16px;"><span style="margin: 0px; padding: 0px; outline: 0px; overflow-wrap: break-word; box-sizing: border-box; background-color: rgb(255, 255, 255); font-size: 14px; color: rgb(51, 51, 51); font-family: arial; font-weight: normal; line-height: 26px;">没有开始修改数据)</span></div><div style="font-size: 16px;"><span style="margin: 0px; padding: 0px; outline: 0px; overflow-wrap: break-word; box-sizing: border-box; background-color: rgb(255, 255, 255); font-size: 14px; color: rgb(51, 51, 51); font-family: arial; font-weight: normal; line-height: 26px;">(2)Thread1线程在修改date数据前发生了 i/o操作 或者 ticks计数满100 (注意就是没有运行到修改data数据),这个</span></div><div style="font-size: 16px;"><span style="margin: 0px; padding: 0px; outline: 0px; overflow-wrap: break-word; box-sizing: border-box; background-color: rgb(255, 255, 255); font-size: 14px; color: rgb(51, 51, 51); font-family: arial; font-weight: normal; line-height: 26px;">时候 Thread1 让出了Gil,Gil锁可以被竞争</span></div><div style="font-size: 16px;"><span style="margin: 0px; padding: 0px; outline: 0px; overflow-wrap: break-word; box-sizing: border-box; background-color: rgb(255, 255, 255); font-size: 14px; color: rgb(51, 51, 51); font-family: arial; font-weight: normal; line-height: 26px;">(3) Thread1 和 Thread2 开始竞争 Gil (注意:如果Thread1是因为 i/o 阻塞 让出的Gil Thread2必定拿到Gil,如果</span></div><div style="font-size: 16px;"><span style="margin: 0px; padding: 0px; outline: 0px; overflow-wrap: break-word; box-sizing: border-box; background-color: rgb(255, 255, 255); font-size: 14px; color: rgb(51, 51, 51); font-family: arial; font-weight: normal; line-height: 26px;">Thread1是因为ticks计数满100让出Gil 这个时候 Thread1 和 Thread2 公平竞争)</span></div><div style="font-size: 16px;"><span style="margin: 0px; padding: 0px; outline: 0px; overflow-wrap: break-word; box-sizing: border-box; background-color: rgb(255, 255, 255); font-size: 14px; color: rgb(51, 51, 51); font-family: arial; font-weight: normal; line-height: 26px;">(4)假设 Thread2正好获得了GIL, 运行代码去修改共享数据date,由于Thread1有互斥锁lock，所以Thread2无法更改共享数据</span></div><div style="font-size: 16px;"><span style="margin: 0px; padding: 0px; outline: 0px; overflow-wrap: break-word; box-sizing: border-box; background-color: rgb(255, 255, 255); font-size: 14px; color: rgb(51, 51, 51); font-family: arial; font-weight: normal; line-height: 26px;">date,这时Thread2让出Gil锁 , GIL锁再次发生竞争 </span></div><div style="font-size: 16px;"><span style="margin: 0px; padding: 0px; outline: 0px; overflow-wrap: break-word; box-sizing: border-box; background-color: rgb(255, 255, 255); font-size: 14px; color: rgb(51, 51, 51); font-family: arial; font-weight: normal; line-height: 26px;">(5)假设Thread1又抢到GIL，由于其有互斥锁Lock所以其可以继续修改共享数据data,当Thread1修改完数据释放互斥锁lock,</span></div><div style="font-size: 16px;"><span style="margin: 0px; padding: 0px; outline: 0px; overflow-wrap: break-word; box-sizing: border-box; font-size: 14px; color: rgb(51, 51, 51); font-family: arial; font-weight: normal; line-height: 26px;">Thread2在获得GIL与lock后才可对data进行修改</span></div></div></div><div style="font-size: 14px; box-sizing: inherit; outline: 0px; margin: 0px; padding: 0px; overflow-wrap: break-word;"><div style="font-weight:normal;box-sizing:inherit;outline:0px;margin:0px;padding:0px;overflow-wrap:break-word;"></div></div><div style="font-size: 14px; font-weight: normal; height: 0px; visibility: hidden; clear: both; box-sizing: inherit; outline: 0px;"></div></div></div></div></div></div></div></div></div><div><br/></div></span>
</div>
<hr>
<a name="1957"/>

<div>
<span>
  <div style="--en-clipped-content:article; --en-clipped-source-url:https://www.delftstack.com/zh/howto/python/how-to-get-dictionary-keys-as-a-list-in-python/; --en-clipped-source-title:如何在 Python 中将字典键作为列表获取 | D栈 - Delft Stack;">
<div><br/></div><div style="min-height: 4661px; font-size: 16px; display: block; min-width: 100%; position: relative;"> <div style="font-family:sans-serif;text-size-adjust:100%;box-sizing:border-box;font-size:10px;-webkit-tap-highlight-color:rgba(0, 0, 0, 0);"><div style="box-sizing:border-box;font-size:14px;line-height:1.42857;background-color:rgb(255, 255, 255);font-family:Lato, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif;color:rgb(51, 51, 51);overflow:visible;"><span style="box-sizing:border-box;"><div style="box-sizing:border-box;"><div style="box-sizing:border-box;font-size:20px;line-height:30px;"><div style="box-sizing:border-box;">


 
  <ol style="box-sizing:border-box;position:relative;list-style:none;padding:50px 20px 20px 30px;line-height:30px;background-color:rgb(252, 252, 252);margin-top:40px;margin-bottom:40px;"><span style="list-style:none;line-height:30px;position:absolute;top:15px;left:15px;font-size:16px;font-weight:600;letter-spacing:1px;text-transform:uppercase;color:rgb(204, 204, 204);">目录</span>
      
        <li style="box-sizing:border-box;"><span style="color:rgb(136, 136, 136);font-weight:500;font-size:14px;margin-right:5px;">1. </span>
          <a href="https://www.delftstack.com/zh/howto/python/how-to-get-dictionary-keys-as-a-list-in-python/#dictkeys-%e8%8e%b7%e5%8f%96-python-%e5%ad%97%e5%85%b8%e9%94%ae" style="background-color:transparent;box-sizing:border-box;text-decoration:none;transition:all 0.3s ease 0s;color:rgb(136, 136, 136);">
            <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;padding:2px 4px;border-radius:4px;font-size:90%;text-shadow:rgb(255, 255, 255) 0px 1px;color:rgb(244, 100, 95);background-color:rgb(240, 242, 241);">dict.keys()</code> 获取 Python 字典键
          </a>
        </li>
      
        <li style="box-sizing:border-box;"><span style="color:rgb(136, 136, 136);font-weight:500;font-size:14px;margin-right:5px;">2. </span>
          <a href="https://www.delftstack.com/zh/howto/python/how-to-get-dictionary-keys-as-a-list-in-python/#%e5%be%aa%e7%8e%af%e8%8e%b7%e5%8f%96-python-%e5%ad%97%e5%85%b8%e9%94%ae" style="background-color:transparent;box-sizing:border-box;text-decoration:none;transition:all 0.3s ease 0s;color:rgb(136, 136, 136);">
            循环获取 Python 字典键
          </a>
        </li>
      
        <li style="box-sizing:border-box;"><span style="color:rgb(136, 136, 136);font-weight:500;font-size:14px;margin-right:5px;">3. </span>
          <a href="https://www.delftstack.com/zh/howto/python/how-to-get-dictionary-keys-as-a-list-in-python/#%e5%88%97%e8%a1%a8%e6%8e%a8%e5%af%bc%e5%bc%8f%e4%bb%a5%e8%8e%b7%e5%8f%96-python-%e5%ad%97%e5%85%b8%e9%94%ae" style="background-color:transparent;box-sizing:border-box;text-decoration:none;transition:all 0.3s ease 0s;color:rgb(136, 136, 136);">
            列表推导式以获取 Python 字典键
          </a>
        </li>
      
        <li style="box-sizing:border-box;"><span style="color:rgb(136, 136, 136);font-weight:500;font-size:14px;margin-right:5px;">4. </span>
          <a href="https://www.delftstack.com/zh/howto/python/how-to-get-dictionary-keys-as-a-list-in-python/#python-%e5%ad%97%e5%85%b8%e8%a7%a3%e5%8c%85%e8%bf%90%e7%ae%97%e7%ac%a6%e8%8e%b7%e5%8f%96%e9%94%ae%e5%80%bc" style="background-color:transparent;box-sizing:border-box;text-decoration:none;transition:all 0.3s ease 0s;color:rgb(136, 136, 136);">
            Python 字典解包<code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;padding:2px 4px;border-radius:4px;font-size:90%;text-shadow:rgb(255, 255, 255) 0px 1px;color:rgb(244, 100, 95);background-color:rgb(240, 242, 241);">*</code>运算符获取键值
          </a>
        </li>
      
        <li style="box-sizing:border-box;"><span style="color:rgb(136, 136, 136);font-weight:500;font-size:14px;margin-right:5px;">5. </span>
          <a href="https://www.delftstack.com/zh/howto/python/how-to-get-dictionary-keys-as-a-list-in-python/#%e5%ad%97%e5%85%b8%e9%94%ae%e4%bd%9c%e4%b8%ba%e5%88%97%e8%a1%a8%e8%8e%b7%e5%8f%96%e4%b8%8d%e5%90%8c%e6%96%b9%e6%b3%95%e7%9a%84%e6%80%a7%e8%83%bd%e6%af%94%e8%be%83" style="background-color:transparent;box-sizing:border-box;text-decoration:none;transition:all 0.3s ease 0s;color:rgb(136, 136, 136);">
            字典键作为列表获取不同方法的性能比较
          </a>
        </li>
      
  </ol>

<div style="display:block;box-sizing:border-box;margin:0px 0px 1.125rem;">
    <img src="python语言特性_files/ag%20feature%20image%20-%20How%20to%20Get%20Dictionary%20Keys%20as%20a%20List%20in%20Python.webp" type="image/webp" data-filename="ag%20feature%20image%20-%20How%20to%20Get%20Dictionary%20Keys%20as%20a%20List%20in%20Python.webp" height="1080" style="border:0px;box-sizing:border-box;vertical-align:middle;display:block;margin:0px auto;max-width:100%;height:auto;aspect-ratio:16 / 9;object-fit:contain;" title="" width="1920"/>
</div>
<p style="box-sizing:border-box;font-weight:400;margin:0px 0px 20px;">我们在本教程中将来介绍如何将字典中的键值以列表形式读出。</p><span style="box-sizing:border-box;"></span><span style="box-sizing:border-box;clear:both;display:block;"></span><span style="box-sizing:border-box;line-height:0px;padding:0px;border:0px;min-height:400px;width:100%;min-width:580px;float:none;max-width:100%;margin-top:15px;margin-bottom:15px;text-align:center;margin-right:auto;margin-left:auto;display:block;"><span style="box-sizing:border-box;display:inline-block;border:0px;position:relative;z-index:0;padding:0;min-height:400px;min-width:580px;"></span></span>
<p style="box-sizing:border-box;font-weight:400;margin:0px 0px 20px;">我们有几种方法可以实现它，每种方法都有不同的性能特征。</p><span style="box-sizing:border-box;"></span>
<h2 style="box-sizing:border-box;color:inherit;padding-bottom:16px;line-height:33px;margin-top:20px;margin-bottom:16px;font-size:36px;font-family:inherit;font-weight:400;border-bottom:0px;"><a href="https://www.delftstack.com/zh/howto/python/how-to-get-dictionary-keys-as-a-list-in-python/#dictkeys-%E8%8E%B7%E5%8F%96-python-%E5%AD%97%E5%85%B8%E9%94%AE" style="background-color:transparent;box-sizing:border-box;position:relative;line-height:44px;color:rgb(0, 0, 0);text-decoration:none;"><span style="color:rgb(0, 0, 0);line-height:44px;margin-left:0px;margin-right:16px;font-family:Glyphicons Halflings;font-size:22px;opacity:0.3;transition:all 0.3s ease 0s;"></span><code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;padding:2px 4px;border-radius:4px;font-size:90%;text-shadow:rgb(255, 255, 255) 0px 1px;color:rgb(244, 100, 95);background-color:rgb(240, 242, 241);">dict.keys()</code> 获取 Python 字典键</a></h2>
<p style="box-sizing:border-box;font-weight:400;margin:0px 0px 20px;"><a href="https://docs.python.org/3/library/stdtypes.html#dict.keys" style="background-color:transparent;box-sizing:border-box;text-decoration:none;color:rgb(92, 199, 178);"><code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;padding:2px 4px;border-radius:4px;font-size:90%;text-shadow:rgb(255, 255, 255) 0px 1px;color:rgb(244, 100, 95);background-color:rgb(240, 242, 241);">dict.keys()</code></a> 函数返回 <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;padding:2px 4px;border-radius:4px;font-size:90%;text-shadow:rgb(255, 255, 255) 0px 1px;color:rgb(244, 100, 95);background-color:rgb(240, 242, 241);">dict_keys</code>-字典键的可迭代表现。</p>
<div style="box-sizing:border-box;"><div style="box-sizing:border-box;position:relative;"></div><pre style="box-sizing:border-box;display:block;border:1px solid rgb(204, 204, 204);font-size:14px;position:relative;text-shadow:rgb(255, 255, 255) 0px 1px;text-align:left;white-space:pre;word-spacing:normal;hyphens:none;font-family:Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace;line-height:1.5;color:rgb(0, 0, 0);word-break:normal;overflow:auto;padding:1em;margin:0.5em 0px;background:rgb(245, 242, 240);margin-top:15px;margin-bottom:25px;overflow-wrap:normal;border-radius:3px;tab-size:4;padding-bottom:8px;background-color:rgb(252, 252, 252);border-color:rgb(231, 231, 231);padding-top:8px;-moz-tab-size:4;-o-tab-size:4;"><code style="box-sizing:border-box;font-size:inherit;padding:0px;border-radius:0px;background-color:rgb(240, 242, 241);background:0px 0px;text-align:left;word-spacing:normal;word-break:normal;overflow-wrap:normal;line-height:1.5;tab-size:4;hyphens:none;font-family:Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace;white-space:pre;text-shadow:rgb(255, 255, 255) 0px 1px;color:rgb(0, 0, 0);"><span style="box-sizing:border-box;color:rgb(166, 127, 89);background:rgba(255, 255, 255, 0.5);">&gt;&gt;</span><span style="box-sizing:border-box;color:rgb(166, 127, 89);background:rgba(255, 255, 255, 0.5);">&gt;</span> state_capitals <span style="box-sizing:border-box;color:rgb(166, 127, 89);background:rgba(255, 255, 255, 0.5);">=</span> <span style="box-sizing:border-box;color:rgb(153, 153, 153);">{</span><span style="box-sizing:border-box;color:rgb(102, 153, 0);">'California'</span><span style="box-sizing:border-box;color:rgb(153, 153, 153);">:</span> <span style="box-sizing:border-box;color:rgb(102, 153, 0);">'Sacramento'</span><span style="box-sizing:border-box;color:rgb(153, 153, 153);">,</span> <span style="box-sizing:border-box;color:rgb(102, 153, 0);">'Pennsylvania'</span><span style="box-sizing:border-box;color:rgb(153, 153, 153);">:</span> <span style="box-sizing:border-box;color:rgb(102, 153, 0);">'Harrisburg'</span><span style="box-sizing:border-box;color:rgb(153, 153, 153);">,</span> <span style="box-sizing:border-box;color:rgb(102, 153, 0);">'Texas'</span><span style="box-sizing:border-box;color:rgb(153, 153, 153);">:</span> <span style="box-sizing:border-box;color:rgb(102, 153, 0);">'Austin'</span><span style="box-sizing:border-box;color:rgb(153, 153, 153);">}</span>
<span style="box-sizing:border-box;color:rgb(166, 127, 89);background:rgba(255, 255, 255, 0.5);">&gt;&gt;</span><span style="box-sizing:border-box;color:rgb(166, 127, 89);background:rgba(255, 255, 255, 0.5);">&gt;</span> state_capitals<span style="box-sizing:border-box;color:rgb(153, 153, 153);">.</span>keys<span style="box-sizing:border-box;color:rgb(153, 153, 153);">(</span><span style="box-sizing:border-box;color:rgb(153, 153, 153);">)</span>
dict_keys<span style="box-sizing:border-box;color:rgb(153, 153, 153);">(</span><span style="box-sizing:border-box;color:rgb(153, 153, 153);">[</span><span style="box-sizing:border-box;color:rgb(102, 153, 0);">'California'</span><span style="box-sizing:border-box;color:rgb(153, 153, 153);">,</span> <span style="box-sizing:border-box;color:rgb(102, 153, 0);">'Pennsylvania'</span><span style="box-sizing:border-box;color:rgb(153, 153, 153);">,</span> <span style="box-sizing:border-box;color:rgb(102, 153, 0);">'Texas'</span><span style="box-sizing:border-box;color:rgb(153, 153, 153);">]</span><span style="box-sizing:border-box;color:rgb(153, 153, 153);">)</span>
</code></pre></div><p style="box-sizing:border-box;font-weight:400;margin:0px 0px 20px;">你可以对 <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;padding:2px 4px;border-radius:4px;font-size:90%;text-shadow:rgb(255, 255, 255) 0px 1px;color:rgb(244, 100, 95);background-color:rgb(240, 242, 241);">dict_keys</code> 直接进行迭代，而无需将其转换为列表。</p>
<div style="box-sizing:border-box;"><div style="box-sizing:border-box;position:relative;"></div><pre style="box-sizing:border-box;display:block;border:1px solid rgb(204, 204, 204);font-size:14px;position:relative;text-shadow:rgb(255, 255, 255) 0px 1px;text-align:left;white-space:pre;word-spacing:normal;hyphens:none;font-family:Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace;line-height:1.5;color:rgb(0, 0, 0);word-break:normal;overflow:auto;padding:1em;margin:0.5em 0px;background:rgb(245, 242, 240);margin-top:15px;margin-bottom:25px;overflow-wrap:normal;border-radius:3px;tab-size:4;padding-bottom:8px;background-color:rgb(252, 252, 252);border-color:rgb(231, 231, 231);padding-top:8px;-moz-tab-size:4;-o-tab-size:4;"><code style="box-sizing:border-box;font-size:inherit;padding:0px;border-radius:0px;background-color:rgb(240, 242, 241);background:0px 0px;text-align:left;word-spacing:normal;word-break:normal;overflow-wrap:normal;line-height:1.5;tab-size:4;hyphens:none;font-family:Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace;white-space:pre;text-shadow:rgb(255, 255, 255) 0px 1px;color:rgb(0, 0, 0);"><span style="box-sizing:border-box;color:rgb(166, 127, 89);background:rgba(255, 255, 255, 0.5);">&gt;&gt;</span><span style="box-sizing:border-box;color:rgb(166, 127, 89);background:rgba(255, 255, 255, 0.5);">&gt;</span> state_capitals <span style="box-sizing:border-box;color:rgb(166, 127, 89);background:rgba(255, 255, 255, 0.5);">=</span> <span style="box-sizing:border-box;color:rgb(153, 153, 153);">{</span><span style="box-sizing:border-box;color:rgb(102, 153, 0);">'California'</span><span style="box-sizing:border-box;color:rgb(153, 153, 153);">:</span> <span style="box-sizing:border-box;color:rgb(102, 153, 0);">'Sacramento'</span><span style="box-sizing:border-box;color:rgb(153, 153, 153);">,</span> <span style="box-sizing:border-box;color:rgb(102, 153, 0);">'Pennsylvania'</span><span style="box-sizing:border-box;color:rgb(153, 153, 153);">:</span> <span style="box-sizing:border-box;color:rgb(102, 153, 0);">'Harrisburg'</span><span style="box-sizing:border-box;color:rgb(153, 153, 153);">,</span> <span style="box-sizing:border-box;color:rgb(102, 153, 0);">'Texas'</span><span style="box-sizing:border-box;color:rgb(153, 153, 153);">:</span> <span style="box-sizing:border-box;color:rgb(102, 153, 0);">'Austin'</span><span style="box-sizing:border-box;color:rgb(153, 153, 153);">}</span>
<span style="box-sizing:border-box;color:rgb(166, 127, 89);background:rgba(255, 255, 255, 0.5);">&gt;&gt;</span><span style="box-sizing:border-box;color:rgb(166, 127, 89);background:rgba(255, 255, 255, 0.5);">&gt;</span> <span style="box-sizing:border-box;color:rgb(0, 119, 170);">for</span> state <span style="box-sizing:border-box;color:rgb(0, 119, 170);">in</span> state_capitals<span style="box-sizing:border-box;color:rgb(153, 153, 153);">.</span>keys<span style="box-sizing:border-box;color:rgb(153, 153, 153);">(</span><span style="box-sizing:border-box;color:rgb(153, 153, 153);">)</span><span style="box-sizing:border-box;color:rgb(153, 153, 153);">:</span>
<span style="box-sizing:border-box;color:rgb(153, 153, 153);">.</span><span style="box-sizing:border-box;color:rgb(153, 153, 153);">.</span><span style="box-sizing:border-box;color:rgb(153, 153, 153);">.</span>   <span style="box-sizing:border-box;color:rgb(0, 119, 170);">print</span><span style="box-sizing:border-box;color:rgb(153, 153, 153);">(</span>state<span style="box-sizing:border-box;color:rgb(153, 153, 153);">)</span>
<span style="box-sizing:border-box;color:rgb(153, 153, 153);">.</span><span style="box-sizing:border-box;color:rgb(153, 153, 153);">.</span><span style="box-sizing:border-box;color:rgb(153, 153, 153);">.</span>
California
Pennsylvania
Texas
</code></pre></div><p style="box-sizing:border-box;font-weight:400;margin:0px 0px 20px;">例如，如果你需要严格按照列表来处理字典键，例如，如果你希望能够使用索引来读取序列中的特定键，则应首先转换 <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;padding:2px 4px;border-radius:4px;font-size:90%;text-shadow:rgb(255, 255, 255) 0px 1px;color:rgb(244, 100, 95);background-color:rgb(240, 242, 241);">dict_keys</code> 为列表。</p><span style="box-sizing:border-box;"></span><span style="box-sizing:border-box;clear:both;display:block;"></span><span style="box-sizing:border-box;line-height:0px;padding:0px;border:0px;min-width:300px;min-height:250px;width:100%;float:none;max-width:100%;margin-top:15px;margin-bottom:15px;text-align:center;margin-right:auto;margin-left:auto;display:block;"><span style="box-sizing:border-box;display:inline-block;border:0px;position:relative;z-index:0;padding:0;min-height:250px;min-width:300px;"></span></span>
<div style="box-sizing:border-box;"><div style="box-sizing:border-box;position:relative;"></div><pre style="box-sizing:border-box;display:block;border:1px solid rgb(204, 204, 204);font-size:14px;position:relative;text-shadow:rgb(255, 255, 255) 0px 1px;text-align:left;white-space:pre;word-spacing:normal;hyphens:none;font-family:Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace;line-height:1.5;color:rgb(0, 0, 0);word-break:normal;overflow:auto;padding:1em;margin:0.5em 0px;background:rgb(245, 242, 240);margin-top:15px;margin-bottom:25px;overflow-wrap:normal;border-radius:3px;tab-size:4;padding-bottom:8px;background-color:rgb(252, 252, 252);border-color:rgb(231, 231, 231);padding-top:8px;-moz-tab-size:4;-o-tab-size:4;"><code style="box-sizing:border-box;font-size:inherit;padding:0px;border-radius:0px;background-color:rgb(240, 242, 241);background:0px 0px;text-align:left;word-spacing:normal;word-break:normal;overflow-wrap:normal;line-height:1.5;tab-size:4;hyphens:none;font-family:Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace;white-space:pre;text-shadow:rgb(255, 255, 255) 0px 1px;color:rgb(0, 0, 0);"><span style="box-sizing:border-box;color:rgb(166, 127, 89);background:rgba(255, 255, 255, 0.5);">&gt;&gt;</span><span style="box-sizing:border-box;color:rgb(166, 127, 89);background:rgba(255, 255, 255, 0.5);">&gt;</span> state_capitals <span style="box-sizing:border-box;color:rgb(166, 127, 89);background:rgba(255, 255, 255, 0.5);">=</span> <span style="box-sizing:border-box;color:rgb(153, 153, 153);">{</span><span style="box-sizing:border-box;color:rgb(102, 153, 0);">'California'</span><span style="box-sizing:border-box;color:rgb(153, 153, 153);">:</span> <span style="box-sizing:border-box;color:rgb(102, 153, 0);">'Sacramento'</span><span style="box-sizing:border-box;color:rgb(153, 153, 153);">,</span> <span style="box-sizing:border-box;color:rgb(102, 153, 0);">'Pennsylvania'</span><span style="box-sizing:border-box;color:rgb(153, 153, 153);">:</span> <span style="box-sizing:border-box;color:rgb(102, 153, 0);">'Harrisburg'</span><span style="box-sizing:border-box;color:rgb(153, 153, 153);">,</span> <span style="box-sizing:border-box;color:rgb(102, 153, 0);">'Texas'</span><span style="box-sizing:border-box;color:rgb(153, 153, 153);">:</span> <span style="box-sizing:border-box;color:rgb(102, 153, 0);">'Austin'</span><span style="box-sizing:border-box;color:rgb(153, 153, 153);">}</span>
<span style="box-sizing:border-box;color:rgb(166, 127, 89);background:rgba(255, 255, 255, 0.5);">&gt;&gt;</span><span style="box-sizing:border-box;color:rgb(166, 127, 89);background:rgba(255, 255, 255, 0.5);">&gt;</span> list<span style="box-sizing:border-box;color:rgb(153, 153, 153);">(</span>state_capitals<span style="box-sizing:border-box;color:rgb(153, 153, 153);">.</span>keys<span style="box-sizing:border-box;color:rgb(153, 153, 153);">(</span><span style="box-sizing:border-box;color:rgb(153, 153, 153);">)</span><span style="box-sizing:border-box;color:rgb(153, 153, 153);">)</span>
<span style="box-sizing:border-box;color:rgb(153, 153, 153);">[</span><span style="box-sizing:border-box;color:rgb(102, 153, 0);">'California'</span><span style="box-sizing:border-box;color:rgb(153, 153, 153);">,</span> <span style="box-sizing:border-box;color:rgb(102, 153, 0);">'Pennsylvania'</span><span style="box-sizing:border-box;color:rgb(153, 153, 153);">,</span> <span style="box-sizing:border-box;color:rgb(102, 153, 0);">'Texas'</span><span style="box-sizing:border-box;color:rgb(153, 153, 153);">]</span>
</code></pre></div><span style="box-sizing:border-box;"></span><p style="box-sizing:border-box;font-weight:400;margin:0px 0px 20px;">请注意，如果要获取键值作为列表，则调用 <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;padding:2px 4px;border-radius:4px;font-size:90%;text-shadow:rgb(255, 255, 255) 0px 1px;color:rgb(244, 100, 95);background-color:rgb(240, 242, 241);">dict.keys()</code> 是可选的。由于 Python 字典可在其键上进行迭代，因此你可以将字典本身传递给列表构造函数。</p>

<div style="box-sizing:border-box;"><div style="box-sizing:border-box;position:relative;"></div><pre style="box-sizing:border-box;display:block;border:1px solid rgb(204, 204, 204);font-size:14px;position:relative;text-shadow:rgb(255, 255, 255) 0px 1px;text-align:left;white-space:pre;word-spacing:normal;hyphens:none;font-family:Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace;line-height:1.5;color:rgb(0, 0, 0);word-break:normal;overflow:auto;padding:1em;margin:0.5em 0px;background:rgb(245, 242, 240);margin-top:15px;margin-bottom:25px;overflow-wrap:normal;border-radius:3px;tab-size:4;padding-bottom:8px;background-color:rgb(252, 252, 252);border-color:rgb(231, 231, 231);padding-top:8px;-moz-tab-size:4;-o-tab-size:4;"><code style="box-sizing:border-box;font-size:inherit;padding:0px;border-radius:0px;background-color:rgb(240, 242, 241);background:0px 0px;text-align:left;word-spacing:normal;word-break:normal;overflow-wrap:normal;line-height:1.5;tab-size:4;hyphens:none;font-family:Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace;white-space:pre;text-shadow:rgb(255, 255, 255) 0px 1px;color:rgb(0, 0, 0);"><span style="box-sizing:border-box;color:rgb(166, 127, 89);background:rgba(255, 255, 255, 0.5);">&gt;&gt;</span><span style="box-sizing:border-box;color:rgb(166, 127, 89);background:rgba(255, 255, 255, 0.5);">&gt;</span> state_capitals <span style="box-sizing:border-box;color:rgb(166, 127, 89);background:rgba(255, 255, 255, 0.5);">=</span> <span style="box-sizing:border-box;color:rgb(153, 153, 153);">{</span><span style="box-sizing:border-box;color:rgb(102, 153, 0);">'California'</span><span style="box-sizing:border-box;color:rgb(153, 153, 153);">:</span> <span style="box-sizing:border-box;color:rgb(102, 153, 0);">'Sacramento'</span><span style="box-sizing:border-box;color:rgb(153, 153, 153);">,</span> <span style="box-sizing:border-box;color:rgb(102, 153, 0);">'Pennsylvania'</span><span style="box-sizing:border-box;color:rgb(153, 153, 153);">:</span> <span style="box-sizing:border-box;color:rgb(102, 153, 0);">'Harrisburg'</span><span style="box-sizing:border-box;color:rgb(153, 153, 153);">,</span> <span style="box-sizing:border-box;color:rgb(102, 153, 0);">'Texas'</span><span style="box-sizing:border-box;color:rgb(153, 153, 153);">:</span> <span style="box-sizing:border-box;color:rgb(102, 153, 0);">'Austin'</span><span style="box-sizing:border-box;color:rgb(153, 153, 153);">}</span>
<span style="box-sizing:border-box;color:rgb(166, 127, 89);background:rgba(255, 255, 255, 0.5);">&gt;&gt;</span><span style="box-sizing:border-box;color:rgb(166, 127, 89);background:rgba(255, 255, 255, 0.5);">&gt;</span> list<span style="box-sizing:border-box;color:rgb(153, 153, 153);">(</span>state_capitals<span style="box-sizing:border-box;color:rgb(153, 153, 153);">)</span>
<span style="box-sizing:border-box;color:rgb(153, 153, 153);">[</span><span style="box-sizing:border-box;color:rgb(102, 153, 0);">'California'</span><span style="box-sizing:border-box;color:rgb(153, 153, 153);">,</span> <span style="box-sizing:border-box;color:rgb(102, 153, 0);">'Pennsylvania'</span><span style="box-sizing:border-box;color:rgb(153, 153, 153);">,</span> <span style="box-sizing:border-box;color:rgb(102, 153, 0);">'Texas'</span><span style="box-sizing:border-box;color:rgb(153, 153, 153);">]</span>
</code></pre></div><h2 style="box-sizing:border-box;color:inherit;padding-bottom:16px;line-height:33px;margin-top:20px;margin-bottom:16px;font-size:36px;font-family:inherit;font-weight:400;border-bottom:0px;"><a href="https://www.delftstack.com/zh/howto/python/how-to-get-dictionary-keys-as-a-list-in-python/#%E5%BE%AA%E7%8E%AF%E8%8E%B7%E5%8F%96-python-%E5%AD%97%E5%85%B8%E9%94%AE" style="background-color:transparent;box-sizing:border-box;position:relative;line-height:44px;color:rgb(0, 0, 0);text-decoration:none;"><span style="color:rgb(0, 0, 0);line-height:44px;margin-left:0px;margin-right:16px;font-family:Glyphicons Halflings;font-size:22px;opacity:0.3;transition:all 0.3s ease 0s;"></span>循环获取 Python 字典键</a></h2>
<p style="box-sizing:border-box;font-weight:400;margin:0px 0px 20px;">Python 中字典的一个特殊特性是，当你迭代它们时，便会迭代它们的键。因此，你可以通过迭代来简单地得到所有字典键。</p>
<div style="box-sizing:border-box;"><div style="box-sizing:border-box;position:relative;"></div><pre style="box-sizing:border-box;display:block;border:1px solid rgb(204, 204, 204);font-size:14px;position:relative;text-shadow:rgb(255, 255, 255) 0px 1px;text-align:left;white-space:pre;word-spacing:normal;hyphens:none;font-family:Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace;line-height:1.5;color:rgb(0, 0, 0);word-break:normal;overflow:auto;padding:1em;margin:0.5em 0px;background:rgb(245, 242, 240);margin-top:15px;margin-bottom:25px;overflow-wrap:normal;border-radius:3px;tab-size:4;padding-bottom:8px;background-color:rgb(252, 252, 252);border-color:rgb(231, 231, 231);padding-top:8px;-moz-tab-size:4;-o-tab-size:4;"><code style="box-sizing:border-box;font-size:inherit;padding:0px;border-radius:0px;background-color:rgb(240, 242, 241);background:0px 0px;text-align:left;word-spacing:normal;word-break:normal;overflow-wrap:normal;line-height:1.5;tab-size:4;hyphens:none;font-family:Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace;white-space:pre;text-shadow:rgb(255, 255, 255) 0px 1px;color:rgb(0, 0, 0);"><span style="box-sizing:border-box;color:rgb(166, 127, 89);background:rgba(255, 255, 255, 0.5);">&gt;&gt;</span><span style="box-sizing:border-box;color:rgb(166, 127, 89);background:rgba(255, 255, 255, 0.5);">&gt;</span> state_capitals <span style="box-sizing:border-box;color:rgb(166, 127, 89);background:rgba(255, 255, 255, 0.5);">=</span> <span style="box-sizing:border-box;color:rgb(153, 153, 153);">{</span><span style="box-sizing:border-box;color:rgb(102, 153, 0);">'California'</span><span style="box-sizing:border-box;color:rgb(153, 153, 153);">:</span> <span style="box-sizing:border-box;color:rgb(102, 153, 0);">'Sacramento'</span><span style="box-sizing:border-box;color:rgb(153, 153, 153);">,</span> <span style="box-sizing:border-box;color:rgb(102, 153, 0);">'Pennsylvania'</span><span style="box-sizing:border-box;color:rgb(153, 153, 153);">:</span> <span style="box-sizing:border-box;color:rgb(102, 153, 0);">'Harrisburg'</span><span style="box-sizing:border-box;color:rgb(153, 153, 153);">,</span> <span style="box-sizing:border-box;color:rgb(102, 153, 0);">'Texas'</span><span style="box-sizing:border-box;color:rgb(153, 153, 153);">:</span> <span style="box-sizing:border-box;color:rgb(102, 153, 0);">'Austin'</span><span style="box-sizing:border-box;color:rgb(153, 153, 153);">}</span>
<span style="box-sizing:border-box;color:rgb(166, 127, 89);background:rgba(255, 255, 255, 0.5);">&gt;&gt;</span><span style="box-sizing:border-box;color:rgb(166, 127, 89);background:rgba(255, 255, 255, 0.5);">&gt;</span> keys <span style="box-sizing:border-box;color:rgb(166, 127, 89);background:rgba(255, 255, 255, 0.5);">=</span> <span style="box-sizing:border-box;color:rgb(153, 153, 153);">[</span><span style="box-sizing:border-box;color:rgb(153, 153, 153);">]</span>
<span style="box-sizing:border-box;color:rgb(166, 127, 89);background:rgba(255, 255, 255, 0.5);">&gt;&gt;</span><span style="box-sizing:border-box;color:rgb(166, 127, 89);background:rgba(255, 255, 255, 0.5);">&gt;</span> <span style="box-sizing:border-box;color:rgb(0, 119, 170);">for</span> key im state_capitals<span style="box-sizing:border-box;color:rgb(153, 153, 153);">:</span>
<span style="box-sizing:border-box;color:rgb(153, 153, 153);">.</span><span style="box-sizing:border-box;color:rgb(153, 153, 153);">.</span><span style="box-sizing:border-box;color:rgb(153, 153, 153);">.</span>   keys<span style="box-sizing:border-box;color:rgb(153, 153, 153);">.</span>append<span style="box-sizing:border-box;color:rgb(153, 153, 153);">(</span>key<span style="box-sizing:border-box;color:rgb(153, 153, 153);">)</span>
<span style="box-sizing:border-box;color:rgb(153, 153, 153);">.</span><span style="box-sizing:border-box;color:rgb(153, 153, 153);">.</span><span style="box-sizing:border-box;color:rgb(153, 153, 153);">.</span>
<span style="box-sizing:border-box;color:rgb(166, 127, 89);background:rgba(255, 255, 255, 0.5);">&gt;&gt;</span><span style="box-sizing:border-box;color:rgb(166, 127, 89);background:rgba(255, 255, 255, 0.5);">&gt;</span> keys
<span style="box-sizing:border-box;color:rgb(153, 153, 153);">[</span><span style="box-sizing:border-box;color:rgb(102, 153, 0);">'California'</span><span style="box-sizing:border-box;color:rgb(153, 153, 153);">,</span> <span style="box-sizing:border-box;color:rgb(102, 153, 0);">'Pennsylvania'</span><span style="box-sizing:border-box;color:rgb(153, 153, 153);">,</span> <span style="box-sizing:border-box;color:rgb(102, 153, 0);">'Texas'</span><span style="box-sizing:border-box;color:rgb(153, 153, 153);">]</span>
</code></pre></div><span style="box-sizing:border-box;"></span><span style="box-sizing:border-box;clear:both;display:block;"></span><span style="box-sizing:border-box;line-height:0px;padding:0px;border:0px;min-width:728px;min-height:90px;width:100%;float:none;max-width:100%;margin-top:15px;text-align:center;margin-bottom:15px;margin-right:auto;margin-left:auto;display:block;"><span style="box-sizing:border-box;display:inline-block;border:0px;position:relative;z-index:0;padding:0;width:100%;max-width:1200px;margin-left:auto !important;margin-right:auto !important;min-height:90px;min-width:728px;"></span></span><h2 style="box-sizing:border-box;color:inherit;padding-bottom:16px;line-height:33px;margin-top:20px;margin-bottom:16px;font-size:36px;font-family:inherit;font-weight:400;border-bottom:0px;"><a href="https://www.delftstack.com/zh/howto/python/how-to-get-dictionary-keys-as-a-list-in-python/#%E5%88%97%E8%A1%A8%E6%8E%A8%E5%AF%BC%E5%BC%8F%E4%BB%A5%E8%8E%B7%E5%8F%96-python-%E5%AD%97%E5%85%B8%E9%94%AE" style="background-color:transparent;box-sizing:border-box;position:relative;line-height:44px;color:rgb(0, 0, 0);text-decoration:none;"><span style="color:rgb(0, 0, 0);line-height:44px;margin-left:0px;margin-right:16px;font-family:Glyphicons Halflings;font-size:22px;opacity:0.3;transition:all 0.3s ease 0s;"></span>列表推导式以获取 Python 字典键</a></h2><span style="box-sizing:border-box;"><div style="box-sizing:border-box;text-align:center;clear:both;align-self:stretch;margin-top:0px !important;margin-bottom:0px !important;height:auto;"><div style="box-sizing:border-box;margin:0px auto;text-align:left;max-width:640px;"><div style="box-sizing:border-box;display:flex;flex-wrap:wrap;z-index:100000001;"><div lang="zh" style="vertical-align:top;padding:0px;line-height:1;font-weight:400;font-style:normal;font-family:Arial, Helvetica, sans-serif;word-break:initial;box-sizing:border-box;margin:0px;color:rgb(255, 255, 255);font-size:10px;padding-top:56.25%;outline:0px;max-width:100%;width:100%;height:0px;display:block;float:left;position:relative;background-color:rgb(64, 61, 57);"><div style="box-sizing:inherit;position:absolute;inset:0px 0px 3em;pointer-events:none;"><div style="box-sizing:inherit;position:absolute;inset:0px;margin:1.5%;"></div></div><div dir="ltr" style="box-sizing:inherit;width:100%;position:absolute;bottom:0px;left:0px;right:0px;height:3em;visibility:visible;opacity:1;transition:visibility 0.1s ease 0s, opacity 0.1s ease 0s;display:flex;color:rgb(255, 255, 255);-webkit-font-smoothing:antialiased;padding:0px 4px;background-color:rgba(64, 61, 57, 0.765);"><div style="box-sizing:inherit;position:relative;text-align:center;margin:0px;padding:0px;height:100%;width:3em;flex:0 0 auto;transition:width 1s ease 0s;display:flex;"><div style="box-sizing:inherit;position:relative;text-align:center;margin:0px;padding:0px;flex:0 0 auto;cursor:pointer;margin-right:1em;display:flex;visibility:visible;opacity:0;margin-left:-1px;height:1px;width:1px;transition:opacity 0.3s ease 0s, height 0.1s ease 0s, width 0.1s ease 0s, left 0s ease 0s, top 0s ease 0s;"><div style="box-sizing:inherit;position:relative;cursor:pointer;padding:0px;user-select:none;margin:1.35em 0.45em;width:5em;height:0.3em;background-color:rgba(151, 146, 138, 0.5);"><div style="box-sizing:inherit;font-weight:400;font-style:normal;position:absolute;bottom:0px;left:0px;height:0.3em;background-color:rgb(137, 207, 240);font-family:VideoJS;width:0%;"><span style="font-weight:400;font-style:normal;font-family:VideoJS;box-sizing:inherit;position:absolute;font-size:0.9em;z-index:1;top:-0.333333em !important;right:-0.5em !important;"></span><span style="box-sizing:inherit;border:0px;clip:rect(0px, 0px, 0px, 0px);overflow:hidden;padding:0px;position:absolute;width:1px;font-size:10px;height:30px;"></span></div></div></div></div><div style="box-sizing:inherit;position:relative;text-align:center;margin:0px;padding:0px;height:100%;width:3em;cursor:pointer;display:flex;align-items:center;min-width:3em;touch-action:none;flex:1 1 auto;"><div style="box-sizing:inherit;flex:1 1 auto;transition:all 0.2s ease 0s;height:0.3em;position:relative;cursor:pointer;padding:0px;user-select:none;background-color:rgba(151, 146, 138, 0.5);margin:0px 10px;"><div style="box-sizing:inherit;position:absolute;display:block;height:100%;margin:0px;padding:0px;width:100%;background:rgba(151, 146, 138, 0.5);"><span style="box-sizing:inherit;border:0px;clip:rect(0px, 0px, 0px, 0px);overflow:hidden;padding:0px;position:absolute;width:1px;font-size:10px;height:30px;"><span style="box-sizing:inherit;height:30px;font-size:10px;">Loaded</span>: <span style="box-sizing:inherit;height:30px;font-size:10px;">100.00%</span></span><div style="box-sizing:inherit;position:absolute;display:block;height:100%;margin:0px;padding:0px;width:100%;background:rgba(151, 146, 138, 0.75);left:0%;"></div></div><div style="box-sizing:inherit;font-weight:400;font-style:normal;position:absolute;display:block;height:100%;margin:0px;padding:0px;background-color:rgb(137, 207, 240);font-family:VideoJS;width:20.9%;"><span style="font-weight:400;font-style:normal;font-family:VideoJS;box-sizing:inherit;font-size:0.9em;position:absolute;right:-0.5em;top:-0.333333em;z-index:1;"></span><div style="background-color:rgba(255, 255, 255, 0.8);border-radius:0.3em;color:rgb(0, 0, 0);float:right;font-family:Arial, Helvetica, sans-serif;font-size:1em;padding:6px 8px 8px;pointer-events:none;position:absolute;top:-3.4em;visibility:hidden;z-index:1;box-sizing:inherit;-webkit-font-smoothing:antialiased;word-break:keep-all;overflow-wrap:normal;right:-20px;">0:09</div></div></div><div style="box-sizing:inherit;position:absolute;transition:transform 0s ease 0s, opacity 0.2s ease 0s;bottom:85%;pointer-events:none;box-shadow:rgba(0, 0, 0, 0.6) 0px 0px 7px;opacity:0;transform:translateX(17.7668px);margin-left:-64px;background:url(https://streaming.humix.com/thumbnails/DOwLZGLbsiHSpqEH/DOwLZGLbsiHSpqEH_j1661961599405-0eci1u_t1661961640.jpg) 0px 0px no-repeat;width:128px;height:72px;"></div></div><div style="box-sizing:inherit;position:relative;text-align:center;margin:0px;padding:0px;height:100%;font-size:1em;line-height:3em;min-width:2em;padding-left:1em;padding-right:1em;width:auto;flex:0 0 auto;"><span style="box-sizing:inherit;border:0px;clip:rect(0px, 0px, 0px, 0px);overflow:hidden;padding:0px;position:absolute;width:1px;font-size:10px;height:30px;">Remaining Time </span><span style="box-sizing:inherit;height:30px;font-size:10px;">-</span><span style="box-sizing:inherit;height:30px;font-size:10px;">0:37</span></div><div style="box-sizing:inherit;cursor:pointer;position:relative;text-align:center;margin:0px;padding:0px;height:100%;flex:0 0 auto;width:auto;"></div></div><div style="box-sizing:inherit;"></div><div style="box-sizing:inherit;"></div></div><div style="box-sizing:border-box;min-height:10vh;margin:4px;position:absolute;display:block;"><div style="box-sizing:border-box;"><a href="https://horoscopochino.co/%e9%a3%8e%e6%b0%b42023%e5%b9%b4%e7%9a%84%e9%a2%9c%e8%89%b2%e6%8f%90%e7%a4%ba/?lang=zh-hans" rel="noopener" style="box-sizing:border-box;text-decoration:none;color:rgb(137, 207, 240);display:flex;position:relative;justify-content:center;align-items:center;min-height:40%;font-size:15px;opacity:0.7;transition:all 0.1s ease 0s;border-radius:4px;background-color:rgb(64, 61, 57);" target="_blank">閱讀更多</a></div></div></div><a href="https://humix.com/redirect?url=https%3A%2F%2Fhoroscopochino.co%2Fhumix%2Fvideo%2F68fe184a6898a8f192025b8e9c97f0df6a95d54d" style="background-color:transparent;box-sizing:border-box;margin:0px 0px 0px 20px;font-size:16px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;text-align:left;max-width:90vw;color:rgb(137, 207, 240);text-decoration:none;display:block;" target="_self">风水2023年的颜色提示 fs</a></div></div></span>
<p style="box-sizing:border-box;font-weight:400;margin:0px 0px 20px;">使用循环的语法改进可以使用 Python 的<a href="https://docs.python.org/3/tutorial/datastructures.html#list-comprehensions" style="background-color:transparent;box-sizing:border-box;text-decoration:none;color:rgb(92, 199, 178);">列表推导式</a>。通过列表推导，你可以将以上循环压缩为单行。</p>
<div style="box-sizing:border-box;"><div style="box-sizing:border-box;position:relative;"></div><pre style="box-sizing:border-box;display:block;border:1px solid rgb(204, 204, 204);font-size:14px;position:relative;text-shadow:rgb(255, 255, 255) 0px 1px;text-align:left;white-space:pre;word-spacing:normal;hyphens:none;font-family:Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace;line-height:1.5;color:rgb(0, 0, 0);word-break:normal;overflow:auto;padding:1em;margin:0.5em 0px;background:rgb(245, 242, 240);margin-top:15px;margin-bottom:25px;overflow-wrap:normal;border-radius:3px;tab-size:4;padding-bottom:8px;background-color:rgb(252, 252, 252);border-color:rgb(231, 231, 231);padding-top:8px;-moz-tab-size:4;-o-tab-size:4;"><code style="box-sizing:border-box;font-size:inherit;padding:0px;border-radius:0px;background-color:rgb(240, 242, 241);background:0px 0px;text-align:left;word-spacing:normal;word-break:normal;overflow-wrap:normal;line-height:1.5;tab-size:4;hyphens:none;font-family:Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace;white-space:pre;text-shadow:rgb(255, 255, 255) 0px 1px;color:rgb(0, 0, 0);"><span style="box-sizing:border-box;color:rgb(166, 127, 89);background:rgba(255, 255, 255, 0.5);">&gt;&gt;</span><span style="box-sizing:border-box;color:rgb(166, 127, 89);background:rgba(255, 255, 255, 0.5);">&gt;</span> state_capitals <span style="box-sizing:border-box;color:rgb(166, 127, 89);background:rgba(255, 255, 255, 0.5);">=</span> <span style="box-sizing:border-box;color:rgb(153, 153, 153);">{</span><span style="box-sizing:border-box;color:rgb(102, 153, 0);">'California'</span><span style="box-sizing:border-box;color:rgb(153, 153, 153);">:</span> <span style="box-sizing:border-box;color:rgb(102, 153, 0);">'Sacramento'</span><span style="box-sizing:border-box;color:rgb(153, 153, 153);">,</span> <span style="box-sizing:border-box;color:rgb(102, 153, 0);">'Pennsylvania'</span><span style="box-sizing:border-box;color:rgb(153, 153, 153);">:</span> <span style="box-sizing:border-box;color:rgb(102, 153, 0);">'Harrisburg'</span><span style="box-sizing:border-box;color:rgb(153, 153, 153);">,</span> <span style="box-sizing:border-box;color:rgb(102, 153, 0);">'Texas'</span><span style="box-sizing:border-box;color:rgb(153, 153, 153);">:</span> <span style="box-sizing:border-box;color:rgb(102, 153, 0);">'Austin'</span><span style="box-sizing:border-box;color:rgb(153, 153, 153);">}</span>
<span style="box-sizing:border-box;color:rgb(166, 127, 89);background:rgba(255, 255, 255, 0.5);">&gt;&gt;</span><span style="box-sizing:border-box;color:rgb(166, 127, 89);background:rgba(255, 255, 255, 0.5);">&gt;</span> keys <span style="box-sizing:border-box;color:rgb(166, 127, 89);background:rgba(255, 255, 255, 0.5);">=</span> <span style="box-sizing:border-box;color:rgb(153, 153, 153);">[</span>key <span style="box-sizing:border-box;color:rgb(0, 119, 170);">for</span> key <span style="box-sizing:border-box;color:rgb(0, 119, 170);">in</span> state_capitals<span style="box-sizing:border-box;color:rgb(153, 153, 153);">]</span>
<span style="box-sizing:border-box;color:rgb(166, 127, 89);background:rgba(255, 255, 255, 0.5);">&gt;&gt;</span><span style="box-sizing:border-box;color:rgb(166, 127, 89);background:rgba(255, 255, 255, 0.5);">&gt;</span> keys
<span style="box-sizing:border-box;color:rgb(153, 153, 153);">[</span><span style="box-sizing:border-box;color:rgb(102, 153, 0);">'California'</span><span style="box-sizing:border-box;color:rgb(153, 153, 153);">,</span> <span style="box-sizing:border-box;color:rgb(102, 153, 0);">'Pennsylvania'</span><span style="box-sizing:border-box;color:rgb(153, 153, 153);">,</span> <span style="box-sizing:border-box;color:rgb(102, 153, 0);">'Texas'</span><span style="box-sizing:border-box;color:rgb(153, 153, 153);">]</span>
</code></pre></div><h2 style="box-sizing:border-box;color:inherit;padding-bottom:16px;line-height:33px;margin-top:20px;margin-bottom:16px;font-size:36px;font-family:inherit;font-weight:400;border-bottom:0px;"><a href="https://www.delftstack.com/zh/howto/python/how-to-get-dictionary-keys-as-a-list-in-python/#python-%E5%AD%97%E5%85%B8%E8%A7%A3%E5%8C%85%E8%BF%90%E7%AE%97%E7%AC%A6%E8%8E%B7%E5%8F%96%E9%94%AE%E5%80%BC" style="background-color:transparent;box-sizing:border-box;position:relative;line-height:44px;color:rgb(0, 0, 0);text-decoration:none;"><span style="color:rgb(0, 0, 0);line-height:44px;margin-left:0px;margin-right:16px;font-family:Glyphicons Halflings;font-size:22px;opacity:0.3;transition:all 0.3s ease 0s;"></span>Python 字典解包<code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;padding:2px 4px;border-radius:4px;font-size:90%;text-shadow:rgb(255, 255, 255) 0px 1px;color:rgb(244, 100, 95);background-color:rgb(240, 242, 241);">*</code>运算符获取键值</a></h2>
<p style="box-sizing:border-box;font-weight:400;margin:0px 0px 20px;">从 Python 3.5 开始，我们可以使用 <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;padding:2px 4px;border-radius:4px;font-size:90%;text-shadow:rgb(255, 255, 255) 0px 1px;color:rgb(244, 100, 95);background-color:rgb(240, 242, 241);">unpack</code> <code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;padding:2px 4px;border-radius:4px;font-size:90%;text-shadow:rgb(255, 255, 255) 0px 1px;color:rgb(244, 100, 95);background-color:rgb(240, 242, 241);">*</code>运算符来得到字典键。<a href="https://www.python.org/dev/peps/pep-0448/" style="background-color:transparent;box-sizing:border-box;text-decoration:none;color:rgb(92, 199, 178);">PEP 448-</a>中引入了此功能。</p>
<div style="box-sizing:border-box;"><div style="box-sizing:border-box;position:relative;"></div><pre style="box-sizing:border-box;display:block;border:1px solid rgb(204, 204, 204);font-size:14px;position:relative;text-shadow:rgb(255, 255, 255) 0px 1px;text-align:left;white-space:pre;word-spacing:normal;hyphens:none;font-family:Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace;line-height:1.5;color:rgb(0, 0, 0);word-break:normal;overflow:auto;padding:1em;margin:0.5em 0px;background:rgb(245, 242, 240);margin-top:15px;margin-bottom:25px;overflow-wrap:normal;border-radius:3px;tab-size:4;padding-bottom:8px;background-color:rgb(252, 252, 252);border-color:rgb(231, 231, 231);padding-top:8px;-moz-tab-size:4;-o-tab-size:4;"><code style="box-sizing:border-box;font-size:inherit;padding:0px;border-radius:0px;background-color:rgb(240, 242, 241);background:0px 0px;text-align:left;word-spacing:normal;word-break:normal;overflow-wrap:normal;line-height:1.5;tab-size:4;hyphens:none;font-family:Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace;white-space:pre;text-shadow:rgb(255, 255, 255) 0px 1px;color:rgb(0, 0, 0);"><span style="box-sizing:border-box;color:rgb(166, 127, 89);background:rgba(255, 255, 255, 0.5);">&gt;&gt;</span><span style="box-sizing:border-box;color:rgb(166, 127, 89);background:rgba(255, 255, 255, 0.5);">&gt;</span> state_capitals <span style="box-sizing:border-box;color:rgb(166, 127, 89);background:rgba(255, 255, 255, 0.5);">=</span> <span style="box-sizing:border-box;color:rgb(153, 153, 153);">{</span><span style="box-sizing:border-box;color:rgb(102, 153, 0);">'California'</span><span style="box-sizing:border-box;color:rgb(153, 153, 153);">:</span> <span style="box-sizing:border-box;color:rgb(102, 153, 0);">'Sacramento'</span><span style="box-sizing:border-box;color:rgb(153, 153, 153);">,</span> <span style="box-sizing:border-box;color:rgb(102, 153, 0);">'Pennsylvania'</span><span style="box-sizing:border-box;color:rgb(153, 153, 153);">:</span> <span style="box-sizing:border-box;color:rgb(102, 153, 0);">'Harrisburg'</span><span style="box-sizing:border-box;color:rgb(153, 153, 153);">,</span> <span style="box-sizing:border-box;color:rgb(102, 153, 0);">'Texas'</span><span style="box-sizing:border-box;color:rgb(153, 153, 153);">:</span> <span style="box-sizing:border-box;color:rgb(102, 153, 0);">'Austin'</span><span style="box-sizing:border-box;color:rgb(153, 153, 153);">}</span>
<span style="box-sizing:border-box;color:rgb(166, 127, 89);background:rgba(255, 255, 255, 0.5);">&gt;&gt;</span><span style="box-sizing:border-box;color:rgb(166, 127, 89);background:rgba(255, 255, 255, 0.5);">&gt;</span> keys <span style="box-sizing:border-box;color:rgb(166, 127, 89);background:rgba(255, 255, 255, 0.5);">=</span> <span style="box-sizing:border-box;color:rgb(153, 153, 153);">[</span><span style="box-sizing:border-box;color:rgb(166, 127, 89);background:rgba(255, 255, 255, 0.5);">*</span>state_capitals<span style="box-sizing:border-box;color:rgb(153, 153, 153);">]</span>
<span style="box-sizing:border-box;color:rgb(166, 127, 89);background:rgba(255, 255, 255, 0.5);">&gt;&gt;</span><span style="box-sizing:border-box;color:rgb(166, 127, 89);background:rgba(255, 255, 255, 0.5);">&gt;</span> keys
<span style="box-sizing:border-box;color:rgb(153, 153, 153);">[</span><span style="box-sizing:border-box;color:rgb(102, 153, 0);">'California'</span><span style="box-sizing:border-box;color:rgb(153, 153, 153);">,</span> <span style="box-sizing:border-box;color:rgb(102, 153, 0);">'Pennsylvania'</span><span style="box-sizing:border-box;color:rgb(153, 153, 153);">,</span> <span style="box-sizing:border-box;color:rgb(102, 153, 0);">'Texas'</span><span style="box-sizing:border-box;color:rgb(153, 153, 153);">]</span>
</code></pre></div>
<p style="box-sizing:border-box;font-weight:400;margin:0px 0px 20px;">这种方法的好处是，你可以将字典键解包到列表之外的其他集合中，例如元组或集合。</p>
<div style="box-sizing:border-box;"><div style="box-sizing:border-box;position:relative;"></div><pre style="box-sizing:border-box;display:block;border:1px solid rgb(204, 204, 204);font-size:14px;position:relative;text-shadow:rgb(255, 255, 255) 0px 1px;text-align:left;white-space:pre;word-spacing:normal;hyphens:none;font-family:Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace;line-height:1.5;color:rgb(0, 0, 0);word-break:normal;overflow:auto;padding:1em;margin:0.5em 0px;background:rgb(245, 242, 240);margin-top:15px;margin-bottom:25px;overflow-wrap:normal;border-radius:3px;tab-size:4;padding-bottom:8px;background-color:rgb(252, 252, 252);border-color:rgb(231, 231, 231);padding-top:8px;-moz-tab-size:4;-o-tab-size:4;"><code style="box-sizing:border-box;font-size:inherit;padding:0px;border-radius:0px;background-color:rgb(240, 242, 241);background:0px 0px;text-align:left;word-spacing:normal;word-break:normal;overflow-wrap:normal;line-height:1.5;tab-size:4;hyphens:none;font-family:Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace;white-space:pre;text-shadow:rgb(255, 255, 255) 0px 1px;color:rgb(0, 0, 0);"><span style="box-sizing:border-box;color:rgb(166, 127, 89);background:rgba(255, 255, 255, 0.5);">&gt;&gt;</span><span style="box-sizing:border-box;color:rgb(166, 127, 89);background:rgba(255, 255, 255, 0.5);">&gt;</span> state_capitals <span style="box-sizing:border-box;color:rgb(166, 127, 89);background:rgba(255, 255, 255, 0.5);">=</span> <span style="box-sizing:border-box;color:rgb(153, 153, 153);">{</span><span style="box-sizing:border-box;color:rgb(102, 153, 0);">'California'</span><span style="box-sizing:border-box;color:rgb(153, 153, 153);">:</span> <span style="box-sizing:border-box;color:rgb(102, 153, 0);">'Sacramento'</span><span style="box-sizing:border-box;color:rgb(153, 153, 153);">,</span> <span style="box-sizing:border-box;color:rgb(102, 153, 0);">'Pennsylvania'</span><span style="box-sizing:border-box;color:rgb(153, 153, 153);">:</span> <span style="box-sizing:border-box;color:rgb(102, 153, 0);">'Harrisburg'</span><span style="box-sizing:border-box;color:rgb(153, 153, 153);">,</span> <span style="box-sizing:border-box;color:rgb(102, 153, 0);">'Texas'</span><span style="box-sizing:border-box;color:rgb(153, 153, 153);">:</span> <span style="box-sizing:border-box;color:rgb(102, 153, 0);">'Austin'</span><span style="box-sizing:border-box;color:rgb(153, 153, 153);">}</span>
<span style="box-sizing:border-box;color:rgb(166, 127, 89);background:rgba(255, 255, 255, 0.5);">&gt;&gt;</span><span style="box-sizing:border-box;color:rgb(166, 127, 89);background:rgba(255, 255, 255, 0.5);">&gt;</span> keys_tuple <span style="box-sizing:border-box;color:rgb(166, 127, 89);background:rgba(255, 255, 255, 0.5);">=</span> <span style="box-sizing:border-box;color:rgb(166, 127, 89);background:rgba(255, 255, 255, 0.5);">*</span>state_capitals<span style="box-sizing:border-box;color:rgb(153, 153, 153);">,</span>
<span style="box-sizing:border-box;color:rgb(166, 127, 89);background:rgba(255, 255, 255, 0.5);">&gt;&gt;</span><span style="box-sizing:border-box;color:rgb(166, 127, 89);background:rgba(255, 255, 255, 0.5);">&gt;</span> keys_tuple
<span style="box-sizing:border-box;color:rgb(153, 153, 153);">(</span><span style="box-sizing:border-box;color:rgb(102, 153, 0);">'California'</span><span style="box-sizing:border-box;color:rgb(153, 153, 153);">,</span> <span style="box-sizing:border-box;color:rgb(102, 153, 0);">'Pennsylvania'</span><span style="box-sizing:border-box;color:rgb(153, 153, 153);">,</span> <span style="box-sizing:border-box;color:rgb(102, 153, 0);">'Texas'</span><span style="box-sizing:border-box;color:rgb(153, 153, 153);">)</span>
<span style="box-sizing:border-box;color:rgb(166, 127, 89);background:rgba(255, 255, 255, 0.5);">&gt;&gt;</span><span style="box-sizing:border-box;color:rgb(166, 127, 89);background:rgba(255, 255, 255, 0.5);">&gt;</span> keys_set <span style="box-sizing:border-box;color:rgb(166, 127, 89);background:rgba(255, 255, 255, 0.5);">=</span> <span style="box-sizing:border-box;color:rgb(153, 153, 153);">{</span><span style="box-sizing:border-box;color:rgb(166, 127, 89);background:rgba(255, 255, 255, 0.5);">*</span>state_capitals<span style="box-sizing:border-box;color:rgb(153, 153, 153);">}</span>
<span style="box-sizing:border-box;color:rgb(166, 127, 89);background:rgba(255, 255, 255, 0.5);">&gt;&gt;</span><span style="box-sizing:border-box;color:rgb(166, 127, 89);background:rgba(255, 255, 255, 0.5);">&gt;</span> keys_set
<span style="box-sizing:border-box;color:rgb(153, 153, 153);">{</span><span style="box-sizing:border-box;color:rgb(102, 153, 0);">'California'</span><span style="box-sizing:border-box;color:rgb(153, 153, 153);">,</span> <span style="box-sizing:border-box;color:rgb(102, 153, 0);">'Pennsylvania'</span><span style="box-sizing:border-box;color:rgb(153, 153, 153);">,</span> <span style="box-sizing:border-box;color:rgb(102, 153, 0);">'Texas'</span><span style="box-sizing:border-box;color:rgb(153, 153, 153);">}</span>
</code></pre></div><h2 style="box-sizing:border-box;color:inherit;padding-bottom:16px;line-height:33px;margin-top:20px;margin-bottom:16px;font-size:36px;font-family:inherit;font-weight:400;border-bottom:0px;"><a href="https://www.delftstack.com/zh/howto/python/how-to-get-dictionary-keys-as-a-list-in-python/#%E5%AD%97%E5%85%B8%E9%94%AE%E4%BD%9C%E4%B8%BA%E5%88%97%E8%A1%A8%E8%8E%B7%E5%8F%96%E4%B8%8D%E5%90%8C%E6%96%B9%E6%B3%95%E7%9A%84%E6%80%A7%E8%83%BD%E6%AF%94%E8%BE%83" style="background-color:transparent;box-sizing:border-box;position:relative;line-height:44px;color:rgb(0, 0, 0);text-decoration:none;"><span style="color:rgb(0, 0, 0);line-height:44px;margin-left:0px;margin-right:16px;font-family:Glyphicons Halflings;font-size:22px;opacity:0.3;transition:all 0.3s ease 0s;"></span>字典键作为列表获取不同方法的性能比较</a></h2>
<p style="box-sizing:border-box;font-weight:400;margin:0px 0px 20px;">上述每种方法的运行时性能都各不相同。</p>
<div style="box-sizing:border-box;"><div style="box-sizing:border-box;position:relative;"></div><pre style="box-sizing:border-box;display:block;border:1px solid rgb(204, 204, 204);font-size:14px;position:relative;text-shadow:rgb(255, 255, 255) 0px 1px;text-align:left;white-space:pre;word-spacing:normal;hyphens:none;font-family:Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace;line-height:1.5;color:rgb(0, 0, 0);word-break:normal;overflow:auto;padding:1em;margin:0.5em 0px;background:rgb(245, 242, 240);margin-top:15px;margin-bottom:25px;overflow-wrap:normal;border-radius:3px;tab-size:4;padding-bottom:8px;background-color:rgb(252, 252, 252);border-color:rgb(231, 231, 231);padding-top:8px;-moz-tab-size:4;-o-tab-size:4;"><code style="box-sizing:border-box;font-size:inherit;padding:0px;border-radius:0px;background-color:rgb(240, 242, 241);background:0px 0px;text-align:left;word-spacing:normal;word-break:normal;overflow-wrap:normal;line-height:1.5;tab-size:4;hyphens:none;font-family:Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace;white-space:pre;text-shadow:rgb(255, 255, 255) 0px 1px;color:rgb(0, 0, 0);"><span style="box-sizing:border-box;color:rgb(166, 127, 89);background:rgba(255, 255, 255, 0.5);">&gt;&gt;</span><span style="box-sizing:border-box;color:rgb(166, 127, 89);background:rgba(255, 255, 255, 0.5);">&gt;</span> <span style="box-sizing:border-box;color:rgb(0, 119, 170);">from</span> timeit <span style="box-sizing:border-box;color:rgb(0, 119, 170);">import</span> timeit
<span style="box-sizing:border-box;color:rgb(166, 127, 89);background:rgba(255, 255, 255, 0.5);">&gt;&gt;</span><span style="box-sizing:border-box;color:rgb(166, 127, 89);background:rgba(255, 255, 255, 0.5);">&gt;</span> timeit<span style="box-sizing:border-box;color:rgb(153, 153, 153);">(</span><span style="box-sizing:border-box;color:rgb(102, 153, 0);">&quot;list(state_capitals.keys())&quot;</span><span style="box-sizing:border-box;color:rgb(153, 153, 153);">,</span> setup<span style="box-sizing:border-box;color:rgb(166, 127, 89);background:rgba(255, 255, 255, 0.5);">=</span><span style="box-sizing:border-box;color:rgb(102, 153, 0);">&quot;state_capitals = {'California': 'Sacramento', 'Pennsylvania': 'Harrisburg', 'Texas': 'Austin'}&quot;</span><span style="box-sizing:border-box;color:rgb(153, 153, 153);">)</span>
<span style="box-sizing:border-box;color:rgb(153, 0, 85);">0.25394885599962436</span>
<span style="box-sizing:border-box;color:rgb(166, 127, 89);background:rgba(255, 255, 255, 0.5);">&gt;&gt;</span><span style="box-sizing:border-box;color:rgb(166, 127, 89);background:rgba(255, 255, 255, 0.5);">&gt;</span> timeit<span style="box-sizing:border-box;color:rgb(153, 153, 153);">(</span><span style="box-sizing:border-box;color:rgb(102, 153, 0);">&quot;list(state_capitals)&quot;</span><span style="box-sizing:border-box;color:rgb(153, 153, 153);">,</span> setup<span style="box-sizing:border-box;color:rgb(166, 127, 89);background:rgba(255, 255, 255, 0.5);">=</span><span style="box-sizing:border-box;color:rgb(102, 153, 0);">&quot;state_capitals = {'California': 'Sacramento', 'Pennsylvania': 'Harrisburg', 'Texas': 'Austin'}&quot;</span><span style="box-sizing:border-box;color:rgb(153, 153, 153);">)</span>
<span style="box-sizing:border-box;color:rgb(153, 0, 85);">0.17995373999929143</span>
<span style="box-sizing:border-box;color:rgb(166, 127, 89);background:rgba(255, 255, 255, 0.5);">&gt;&gt;</span><span style="box-sizing:border-box;color:rgb(166, 127, 89);background:rgba(255, 255, 255, 0.5);">&gt;</span> timeit<span style="box-sizing:border-box;color:rgb(153, 153, 153);">(</span><span style="box-sizing:border-box;color:rgb(102, 153, 0);">&quot;for key in state_capitals: keys.append(key)&quot;</span><span style="box-sizing:border-box;color:rgb(153, 153, 153);">,</span> setup<span style="box-sizing:border-box;color:rgb(166, 127, 89);background:rgba(255, 255, 255, 0.5);">=</span><span style="box-sizing:border-box;color:rgb(102, 153, 0);">&quot;keys = []; state_capitals = {'California': 'Sacramento', 'Pennsylvania': 'Harrisburg', 'Texas': 'Austin'}&quot;</span><span style="box-sizing:border-box;color:rgb(153, 153, 153);">)</span>
<span style="box-sizing:border-box;color:rgb(153, 0, 85);">0.25294865500018204</span>
<span style="box-sizing:border-box;color:rgb(166, 127, 89);background:rgba(255, 255, 255, 0.5);">&gt;&gt;</span><span style="box-sizing:border-box;color:rgb(166, 127, 89);background:rgba(255, 255, 255, 0.5);">&gt;</span> timeit<span style="box-sizing:border-box;color:rgb(153, 153, 153);">(</span><span style="box-sizing:border-box;color:rgb(102, 153, 0);">&quot;[key for key in state_capitals]&quot;</span><span style="box-sizing:border-box;color:rgb(153, 153, 153);">,</span> setup<span style="box-sizing:border-box;color:rgb(166, 127, 89);background:rgba(255, 255, 255, 0.5);">=</span><span style="box-sizing:border-box;color:rgb(102, 153, 0);">&quot;state_capitals = {'California': 'Sacramento', 'Pennsylvania': 'Harrisburg', 'Texas': 'Austin'}&quot;</span><span style="box-sizing:border-box;color:rgb(153, 153, 153);">)</span>
<span style="box-sizing:border-box;color:rgb(153, 0, 85);">0.2447525150000729</span>
<span style="box-sizing:border-box;color:rgb(166, 127, 89);background:rgba(255, 255, 255, 0.5);">&gt;&gt;</span><span style="box-sizing:border-box;color:rgb(166, 127, 89);background:rgba(255, 255, 255, 0.5);">&gt;</span> timeit<span style="box-sizing:border-box;color:rgb(153, 153, 153);">(</span><span style="box-sizing:border-box;color:rgb(102, 153, 0);">&quot;[*state_capitals]&quot;</span><span style="box-sizing:border-box;color:rgb(153, 153, 153);">,</span> setup<span style="box-sizing:border-box;color:rgb(166, 127, 89);background:rgba(255, 255, 255, 0.5);">=</span><span style="box-sizing:border-box;color:rgb(102, 153, 0);">&quot;state_capitals = {'California': 'Sacramento', 'Pennsylvania': 'Harrisburg', 'Texas': 'Austin'}&quot;</span><span style="box-sizing:border-box;color:rgb(153, 153, 153);">)</span>
<span style="box-sizing:border-box;color:rgb(153, 0, 85);">0.0962776809992647</span>
</code></pre></div><span style="box-sizing:border-box;"></span><p style="box-sizing:border-box;font-weight:400;margin:0px 0px 20px;">从上述时间来看，<code style="box-sizing:border-box;font-family:Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace;padding:2px 4px;border-radius:4px;font-size:90%;text-shadow:rgb(255, 255, 255) 0px 1px;color:rgb(244, 100, 95);background-color:rgb(240, 242, 241);">*</code> 运算符是最快的。</p>
<p style="box-sizing:border-box;font-weight:400;margin:0px 0px 20px;">我们推荐优先使用它，除非你有充分的理由采用其他方法。</p>

</div></div></div></span></div></div></div>
</div>
</span>
</div></body></html> 